(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){},113:function(e,t,n){},115:function(e,t,n){},117:function(e,t,n){},119:function(e,t,n){},196:function(e,t,n){},198:function(e,t,n){},203:function(e,t,n){},209:function(e,t,n){},211:function(e,t,n){},215:function(e,t,n){},217:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(82),s=n.n(l),r=n(223),c=n(222),i=(n(90),n(16)),u=n(17),m=n(19),d=n(18),h=n(20),g=n(1),p=n.n(g),v=(n(111),n(113),function(e){return o.a.createElement("div",Object.assign({className:"container".concat(e.fluid?"-fluid":"")},e))}),f=function(e){return o.a.createElement("div",Object.assign({className:"row".concat(e.fluid?"-fluid":"")},e))},E=(n(115),function(e){var t=e.size.split(" ").map(function(e){return"col-"+e}).join(" ");return o.a.createElement("div",Object.assign({className:t},e))}),_=(n(117),{backgroundColor:"#688da2",color:"white",display:"flex",alignItems:"center"}),y={color:"white",fontFamily:"Droid Sans"},b=function(e){return o.a.createElement("nav",{style:_,className:"navbar navbar-expand-lg"},o.a.createElement("div",{style:y,className:"collapse navbar-collapse",id:"navbarNav"},o.a.createElement("ul",{style:y,className:"navbar-nav"},o.a.createElement("li",{style:y,className:"nav-item"},o.a.createElement("img",{src:"https://i.imgur.com/URfLD6e.png",className:"logo",width:"100",height:"50",alt:""})),o.a.createElement("li",{style:y,className:"nav-item"},o.a.createElement("a",{style:y,className:"nav-link",href:"/"},"Home ")),o.a.createElement("li",{style:y,class:"nav-item"},o.a.createElement("a",{style:y,className:"nav-link",href:"/discover"},"Discover")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{style:y,className:"nav-link",href:"/host"},"Host")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{style:y,className:"nav-link",href:"/myprofile"},"My Profile")))))},I=(n(119),n(5)),S=n.n(I),w=n(13),k=n.n(w),C=n(14),j=n.n(C),N=function(e){return o.a.createElement("div",{className:"cunt"},e.attendees.map(function(e){return o.a.createElement(j.a,null,o.a.createElement(j.a.Left,null,o.a.createElement("img",{width:64,height:64,src:e.avImgLink,alt:"thumbnail"})),o.a.createElement(j.a.Body,null,o.a.createElement(j.a.Heading,null,e.name)))}))},T={backgroundColor:"#9fa8af",borderRadius:"4px"},A=function(e){return o.a.createElement("div",{className:"cunt"},e.events.map(function(t){return o.a.createElement(S.a,{id:"collapsible-panel-example-2",defaultCollapsed:!0},o.a.createElement(S.a.Heading,{style:T},o.a.createElement(S.a.Title,{toggle:!0},t.name,"  |  ",t.locationAprox)),o.a.createElement(S.a.Collapse,null,o.a.createElement(S.a.Body,null,o.a.createElement(f,null,o.a.createElement(E,{size:"sm-6"},o.a.createElement("h2",null,t.name),o.a.createElement("h3",null,"Event Type: ",t.type),o.a.createElement("h4",null,"Time: ",t.time," "),o.a.createElement("h4",null,"Location: ",t.locationAprox," "),o.a.createElement("p",null,t.Description),o.a.createElement(k.a,{onClick:function(){return e.requestToAttend(t,t._id,t.hostId)},bsClass:"yellow"},"Attened")),o.a.createElement(E,{id:"rsvpContainer",size:"sm-6"},o.a.createElement("h2",null," "),o.a.createElement("h3",null,"Attendees"),o.a.createElement(N,{attendees:t.attendees,eventId:t._id}," "))))))}))},L=(n(196),function(e){return o.a.createElement("div",{className:"cunt"},e.events.map(function(t){return o.a.createElement(S.a,{id:"collapsible-panel-example-2",defaultCollapsed:!0},o.a.createElement(S.a.Heading,null,o.a.createElement(S.a.Title,{toggle:!0},t.name,"  |  ",t.locationAprox)),o.a.createElement(S.a.Collapse,null,o.a.createElement(S.a.Body,null,o.a.createElement(f,null,o.a.createElement(E,{size:"sm-6"},o.a.createElement("h2",null,t.name),o.a.createElement("h3",null,"Event Type: ",t.type),o.a.createElement("h4",null,"Time: ",t.time," "),o.a.createElement("h4",null,"Location: ",t.actualLocation," "),o.a.createElement("p",null,t.Description),o.a.createElement(k.a,{onClick:function(){return e.bail(e.yourName,e.id,t.attendees,t.hostId,t._id)},bsClass:"yellow"},"Bail")),o.a.createElement(E,{id:"rsvpContainer",size:"sm-6"},o.a.createElement("h2",null," "),o.a.createElement("h3",null,"Attendees"),o.a.createElement(N,{attendees:t.attendees,eventId:t._id}," "))))))}))}),O=(n(198),n(36)),x=n.n(O),H={backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("https://preview.ibb.co/nN5LTL/audience-blur-bokeh-976866.jpg")',backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"relative",backgroundSize:"cover",height:"50%",minHeight:"450px"},P={textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white"},D={fontFamily:"Paytone One"},R={fontFamily:"Droid Sans"},U=function(e){return o.a.createElement("div",null,o.a.createElement(x.a,{style:H},o.a.createElement("div",{style:P},o.a.createElement("h1",{style:D},"let's make plans"),o.a.createElement("p",{style:R},"...just try not to bail"))))},z=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).popYourEvents=function(){var e=localStorage.getItem("_id");p.a.get("/api/event").then(function(t){var a=[];function o(e,t,n){for(var o=0;o<e.attendees.length;o++)e.attendees[o]._id===t&&a.push(e)}!function(t){for(var n=0;n<t.length;n++)o(t[n],e)}(t.data),console.log(a),n.setState({yourEvents:a,events:t.data}),console.log(n.state.yourEvents),console.log("here2")}).catch(function(e){401===e.response.status&&n.props.history.push("/login")})},n.bail=function(e,t,a,o,l){var s=localStorage.getItem("_id");console.log("this is the id:",s),console.log("this is the name:",e),console.log(a[0]),console.log(a[0].name),console.log(l);var r=l;p.a.get("/api/user/"+o).then(function(o){console.log(o.data),console.log(o);var l=o.data[0].yourHostedEvents;console.log(l[0]);var s=a.map(function(e){return e._id}).indexOf(t);~s&&a.splice(s,1),console.log(a),p.a.post("/api/event/"+r,{params:{_id:t,name:e,attendees:a,functionToRun:1}}).then(function(e){console.log(e.data),console.log(e),n.popYourEvents()}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},n.requestToAttend=function(e,t,a){var o=localStorage.getItem("thisUsername"),l=localStorage.getItem("_id");console.log("this is the id:",l),console.log("this is the host id:",a);var s={username:o,_id:l,name:n.state.name,avImgLink:n.state.avImgLink};p.a.all([p.a.post("/api/user/"+l,{params:{yourNewEvent:e,functionToRun:3}}),p.a.post("/api/event/"+t,{params:{attendees:s,functionToRun:2}})]).then(p.a.spread(function(e,t){console.log(e),console.log(t),t.data.attendees.push(s),console.log(t),p.a.get("/api/user/"+a).then(function(e){console.log(e.data[0].yourHostedEvents);for(var a=e.data[0].yourHostedEvents,o=0;o<a.length;o++)a[o]._id===t.data._id&&(a[o].attendees.push(s),console.log(a),p.a.post("/api/user/"+l,{params:{yourHostedEvents1:a,functionToRun:1}}).then(function(e){console.log(e.data),console.log(e),n.popYourEvents()}).catch(function(e){console.log(e)}));console.log(e)}).catch(function(e){console.log(e)})}))},n.logout=function(){localStorage.removeItem("jwtToken"),window.location.reload()},n.state={test:"",books:"",events:[],username:"",name:"",id:"",acceptedIncomingInvites:[],declinedIncoimingInvites:[],pendingIncomingInvites:[],yourEvents:[],avImgLink:""},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"test1",value:function(){console.log("func running");p.a.post("/api/event/5bcf70ef12fc0ba9a4bf05e6",{params:{testParam:"test234",testParam1:222}})}},{key:"updateState",value:function(){this.setState({books:"hello1"}),console.log(this.state.books)}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("thisUsername");console.log(t);var n=localStorage.getItem("_id");console.log("this is the id:",n),p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),p.a.get("/api/user/"+n).then(function(t){console.log(t.data),console.log(t.data[0].username);var a=t.data[0].yourEvents,o=t.data[0].name,l=t.data[0].avImgLink;console.log(n,a),e.setState({id:n,yourEvents:a,name:o,avImgLink:l}),console.log(e.state.yourEvents,e.state.name),console.log(t)}).catch(function(e){console.log(e)}),p.a.get("/api/event").then(function(a){var o=[];function l(e,t,n){for(var a=0;a<e.attendees.length;a++)e.attendees[a]._id===t&&o.push(e)}!function(e){for(var t=0;t<e.length;t++)l(e[t],n),console.log("________________________________")}(a.data),console.log(o),e.setState({events:a.data,username:t,yourEvents:o}),console.log(e.state.events),console.log(e.state.username),console.log(e.state.yourEvents),console.log("here2")}).catch(function(t){401===t.response.status&&e.props.history.push("/login")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement(U,null),o.a.createElement(v,null,o.a.createElement(f,null,o.a.createElement(E,{size:"lg-6",style:{marginTop:30}},o.a.createElement("h3",{className:"card-header",onClick:this.popYourEvents,align:"center"},"All Events"),o.a.createElement(A,{requestToAttend:this.requestToAttend,events:this.state.events})),o.a.createElement(E,{size:"lg-6",style:{marginTop:30}},o.a.createElement("h3",{className:"card-header",onClick:this.createEvent,align:"center"},"Your Events"),o.a.createElement(L,{id:this.state.id,bail:this.bail,yourName:this.state.name,events:this.state.yourEvents}))),o.a.createElement("h3",{className:"card-header",align:"center"},"\xa0",localStorage.getItem("jwtToken")&&o.a.createElement("button",{class:"btn btn-primary",onClick:this.logout},"Logout"))))}}]),t}(a.Component),q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}window.addEventListener("fetch",function(e){if(e.request.url.match("^.*(/api/).*$"))return!1});var Y=n(221),B=(n(79),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var n=e.state;n[t.target.name]=t.target.value,e.setState(n)},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,o=n.password;localStorage.setItem("thisUsername",a),console.log(localStorage.getItem("thisUsername")),p.a.post("/api/auth/login",{username:a,password:o}).then(function(t){console.log(t),localStorage.setItem("jwtToken",t.data.token),localStorage.setItem("_id",t.data.id1),e.setState({message:""}),e.props.history.push("/")}).catch(function(t){401===t.response.status&&e.setState({message:"Login failed. Username or password not match"})})},e.state={username:"",password:"",message:""},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.message;return o.a.createElement("div",{className:"container"},o.a.createElement("form",{className:"form-signin",onSubmit:this.onSubmit},""!==a&&o.a.createElement("div",{className:"alert alert-warning alert-dismissible",role:"alert"},a),o.a.createElement("h2",{className:"form-signin-heading"},"Please sign in"),o.a.createElement("label",{for:"inputEmail",className:"sr-only"},"Email address"),o.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email address",name:"username",value:t,onChange:this.onChange,required:!0}),o.a.createElement("label",{for:"inputPassword",className:"sr-only"},"Password"),o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",value:n,onChange:this.onChange,required:!0}),o.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit"},"Login"),o.a.createElement("p",null,"Not a member? ",o.a.createElement(Y.a,{to:"/register"},o.a.createElement("span",{className:"glyphicon glyphicon-plus-sign","aria-hidden":"true"})," Register here"))))}}]),t}(a.Component)),M=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var n=e.state;n[t.target.name]=t.target.value,e.setState(n),console.log(n)},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,o=n.password,l=n.name,s=n.avImgLink;p.a.post("/api/auth/register",{username:a,password:o,name:l,avImgLink:s}).then(function(t){e.props.history.push("/login")})},e.state={username:"",password:"",name:"",avImgLink:""},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.name,l=e.avImgLink;return o.a.createElement("div",{class:"container"},o.a.createElement("form",{class:"form-signin",onSubmit:this.onSubmit},o.a.createElement("h2",{class:"form-signin-heading"},"Register"),o.a.createElement("label",{for:"inputEmail",class:"sr-only"},"Email address"),o.a.createElement("input",{type:"email",class:"form-control",placeholder:"Email address",name:"username",value:t,onChange:this.onChange,required:!0}),o.a.createElement("label",{for:"inputPassword",class:"sr-only"},"Password"),o.a.createElement("input",{type:"password",class:"form-control",placeholder:"Password",name:"password",value:n,onChange:this.onChange,required:!0}),o.a.createElement("label",{for:"inputName",class:"sr-only"},"Name"),o.a.createElement("input",{type:"name",class:"form-control",placeholder:"Name",name:"name",value:a,onChange:this.onChange,required:!0}),o.a.createElement("label",{for:"inputPhoto",class:"sr-only"},"Insert link to photo"),o.a.createElement("input",{type:"avImgLink",class:"form-control",placeholder:"Link to an image for your av",name:"avImgLink",value:l,onChange:this.onChange,required:!0}),o.a.createElement("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"Register")))}}]),t}(a.Component),W=n(29),$=n(38),J=n.n($),Q=(n(203),{backgroundImage:"linear-gradient(white, black)"}),G=function(e){return o.a.createElement("div",{className:"cunt"},o.a.createElement(J.a,null,e.events.map(function(t){return o.a.createElement(J.a.Item,{id:"heroImg"},o.a.createElement("img",{style:Q,id:"topImg",width:900,height:500,alt:"900x500",src:t.eventPhoto}),o.a.createElement(J.a.Caption,null,o.a.createElement("h2",null,t.name),o.a.createElement("h3",null,"Event Type: ",t.type),o.a.createElement("h4",null,"Time: ",t.time," "),o.a.createElement("h4",null,"Location: ",t.actualLocation," "),o.a.createElement("p",null,t.description," "),o.a.createElement(k.a,{onClick:function(){return e.requestToAttend(t,t._id,t.hostId)}},"Attend")))})))},K=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={interest:"",interests:[],interestedEvents:[],events:[],show:!1},n.requestToAttend=function(e,t,a){var o=localStorage.getItem("thisUsername"),l=localStorage.getItem("_id");console.log("this is the id:",l),console.log("this is the host id:",a);var s={username:o,_id:l,name:n.state.name};p.a.all([p.a.post("/api/user/"+l,{params:{yourNewEvent:e,functionToRun:3}}),p.a.post("/api/event/"+t,{params:{attendees:s,functionToRun:2}})]).then(p.a.spread(function(e,t){console.log(e),console.log(t),t.data.attendees.push(s),console.log(t),p.a.get("/api/user/"+a).then(function(e){console.log(e.data[0].yourHostedEvents);for(var a=e.data[0].yourHostedEvents,o=0;o<a.length;o++)a[o]._id===t.data._id&&(a[o].attendees.push(s),console.log(a),p.a.post("/api/user/"+l,{params:{yourHostedEvents1:a,functionToRun:1}}).then(function(e){console.log(e.data),console.log(e),n.popYourEvents()}).catch(function(e){console.log(e)}));console.log(e)}).catch(function(e){console.log(e)})}))},n.handleClose=function(){n.setState({show:!1})},n.handleShow=function(){console.log("function is here"),n.setState({show:!0})},n.handleInputChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(W.a)({},a,o))},n.handleFormSubmit=function(e){e.preventDefault()},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken");var t=localStorage.getItem("thisUsername");console.log("this is the username: "+t);var n=localStorage.getItem("_id");console.log("this is the id:",n),p.a.get("/api/user/"+n).then(function(t){console.log("user data: "+t.data),e.setState({interests:t.data[0].interests})}).catch(function(e){console.log(e)}),p.a.get("/api/event").then(function(n){var a=[];function o(e,t,n){for(var o=0,l=0;l<t.interests.length;l++)t.interests[l]===e?0:o++;o===t.interests.length||function(e,t){if(void 0===e|0===e.length)e.push(t);else for(var n=0,a=0;a<e.length;a++)e[a].name===t.name||n++,n===e.length&&e.push(t)}(a,t)}function l(e,t){for(var n=0;n<e.length;n++)o(t,e[n])}!function(e,t){for(var n=0;n<e.length;n++)l(t,e[n])}(e.state.interests,n.data),console.log(a),console.log(n.data),e.setState({events:n.data,username:t,interestedEvents:a}),console.log(e.state.interestedEvents)}).catch(function(t){401===t.response.status&&e.props.history.push("/login")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement("div",null,o.a.createElement(G,{requestToAttend:this.requestToAttend,events:this.state.interestedEvents})))}}]),t}(a.Component),V=(n(209),function(e){return o.a.createElement("div",{className:"cunt"},e.attendees.map(function(t){return o.a.createElement(j.a,null,o.a.createElement(j.a.Left,null,o.a.createElement("img",{width:64,height:64,src:t.avImgLink,alt:"thumbnail"})),o.a.createElement(j.a.Body,null,o.a.createElement(j.a.Heading,null,t.name),o.a.createElement(k.a,{onClick:function(){return e.deleteAttendee(t.name,t._id,e.attendees,e.yourHE,e.id)},bsStyle:"danger"},"Delete Attendee")))}))}),X=function(e){return o.a.createElement("div",{className:"cunt"},e.yourHE.map(function(t){return o.a.createElement(S.a,{id:"collapsible-panel-example-2",defaultCollapsed:!0},o.a.createElement(S.a.Heading,null,o.a.createElement(S.a.Title,{toggle:!0},t.name,"  |  ",t.locationAprox)),o.a.createElement(S.a.Collapse,null,o.a.createElement(S.a.Body,null,o.a.createElement(f,null,o.a.createElement(E,{size:"sm-6"},o.a.createElement("h2",null,t.name),o.a.createElement("h3",null,"Event Type: ",t.type),o.a.createElement("h4",null,"Time: ",t.time," "),o.a.createElement("h4",null,"Location: ",t.actualLocation," "),o.a.createElement("p",null,t.Description),o.a.createElement(k.a,{onClick:function(){return e.deleteEvent(t._id)},bsStyle:"danger"},"Delete Event")),o.a.createElement(E,{id:"rsvpContainer",size:"sm-6"},"               ",o.a.createElement("h2",null," "),o.a.createElement("h3",null,"Attendees"),o.a.createElement(V,{yourHE:e.yourHE,deleteAttendee:e.deleteAttendee,attendees:t.attendees,id:t._id}," ")," ")))))}))},Z=(n(211),n(21)),ee=n.n(Z),te=n(22),ne=n.n(te),ae=function(e){return o.a.createElement("div",null,o.a.createElement(S.a,null,o.a.createElement(S.a.Heading,null,o.a.createElement(S.a.Title,{componentClass:"h3"},"Create New Event")),o.a.createElement(S.a.Body,null,o.a.createElement("form",null,o.a.createElement(ee.a,{bsSize:"large"},o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"name",placeholder:"Name of Event"})),o.a.createElement(ee.a,{bsSize:"large"},o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"time",placeholder:"Time"})),o.a.createElement(ee.a,null,o.a.createElement(ne.a,{bsSize:"large",onChange:e.handleInputChange,type:"text",name:"date",placeholder:"Date"})),o.a.createElement(ee.a,null,o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"type",placeholder:"Type of Event"})),o.a.createElement(ee.a,null,o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"actualLocation",placeholder:"Exact Address"})),o.a.createElement(ee.a,null,o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"locationAprox",placeholder:"Approx Location"})),o.a.createElement(ee.a,null,o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"interests",placeholder:"Interests"})),o.a.createElement(ee.a,null,o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"description",placeholder:"Description"})),o.a.createElement(ee.a,null,o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"eventPhoto",placeholder:"Insert Link to Event Photo"})),o.a.createElement(k.a,{onClick:e.handleFormSubmit,bsStyle:"primary"},"Create")))))},oe=(n(215),{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("https://preview.ibb.co/dkmS8L/alcohol-alcoholic-bar-16408.jpg")',backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"relative",backgroundSize:"cover",height:"50%",minHeight:"450px"}),le={textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white"},se={fontFamily:"Paytone One"},re={fontFamily:"Droid Sans"},ce=function(e){return o.a.createElement("div",null,o.a.createElement(x.a,{style:oe},o.a.createElement("div",{style:le},o.a.createElement("h1",{style:se},"host with the most"),o.a.createElement("p",{style:re},"Make it stand out!"))))},ie=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).popYourEvents=function(){var e=localStorage.getItem("thisUsername"),t=localStorage.getItem("_id");p.a.get("/api/event").then(function(a){var o=[];!function(e,t){for(var n=0;n<e.length;n++)e[n].hostId===t&&o.push(e[n]),console.log("________________________________")}(a.data,t),console.log(o),n.setState({username:e,id:t,yourHostedEvents:o})}).catch(function(e){401===e.response.status&&n.props.history.push("/login")})},n.deleteEvent=function(e){p.a.delete("/api/event/"+e).then(function(e){n.popYourEvents(),console.log(e)}).catch(function(e){401===e.response.status&&console.log(e)})},n.deleteAttendee=function(e,t,n,a,o){var l=localStorage.getItem("_id");console.log("this is the id:",l),console.log("func running"+e+t+"attendees"+n+a),console.log(n[0]),console.log(n[0].name),console.log(a[0]),console.log(o);var s=o,r=n.map(function(e){return e._id}).indexOf(t);~r&&n.splice(r,1),console.log(n);for(var c=0;c<a.length;c++)a[c]._id===s&&(a[c].attendees=n,console.log(a[c]));p.a.all([p.a.post("/api/event/"+s,{params:{_id:t,name:e,attendees:n,functionToRun:1}}),p.a.post("/api/user/"+l,{params:{yourHostedEvents1:a,functionToRun:1}})]).then(p.a.spread(function(e,t){console.log(e),console.log(t),this.popYourEvents()}))},n.handleInputChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(W.a)({},a,o))},n.handleFormSubmit=function(e){var t=localStorage.getItem("thisUsername");console.log(t);var a=localStorage.getItem("_id");console.log("this is the id:",a),e.preventDefault();var o={name:n.state.name,date:n.state.date,time:n.state.time,attendees:n.state.attendees,type:n.state.type,locationAprox:n.state.locationAprox,actualLocation:n.state.actualLocation,hostId:a,interests:n.state.interests,Description:n.state.description,eventPhoto:n.state.eventPhoto};console.log(o),p.a.post("/api/event/",{params:{testParam:"test234",testParam1:222,testParam2:o}}).then(function(e){console.log(e.data);var t=[];!function(e,n){for(var a=0;a<n.length;a++)n[a].hostId===e&&t.push(n[a])}(a,e.data),n.submitEventToUser(t),n.popYourEvents()}).catch(function(e){console.log(e)})},n.submitEventToUser=function(e){var t=localStorage.getItem("thisUsername");console.log(t);var n=localStorage.getItem("_id");console.log("this is the id:",n),console.log(e),p.a.post("/api/user/"+n,{params:{yourHostedEvents1:e,functionToRun:2}})},n.state={yourHostedEvents:[],username:"",id:"",test:"",name:"",date:"",time:"",attendees:[],type:"",locationAprox:"",actualLocation:"",description:"",interests:"",eventPhoto:""},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"test1",value:function(e,t,n){console.log("func running"+e+t+"attendees"+n);p.a.post("/api/event/5bcf70ef12fc0ba9a4bf05e6",{params:{_id:t,name:e}})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("thisUsername");console.log(t);var n=localStorage.getItem("_id");console.log("this is the id:",n),p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),p.a.get("/api/event").then(function(a){var o=[];!function(e,t){for(var n=0;n<e.length;n++)e[n].hostId===t&&o.push(e[n]),console.log("________________________________")}(a.data,n),console.log(o),e.setState({username:t,id:n,yourHostedEvents:o})}).catch(function(t){401===t.response.status&&e.props.history.push("/login")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement("div",null,o.a.createElement(ce,null),o.a.createElement(v,{style:{minHeight:"80%"}},o.a.createElement(X,{deleteAttendee:this.deleteAttendee,deleteEvent:this.deleteEvent,yourHE:this.state.yourHostedEvents})),o.a.createElement(v,{style:{minHeight:"80%"}},o.a.createElement(ae,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}))))}}]),t}(a.Component),ue=(n(217),function(e){return o.a.createElement("div",null,o.a.createElement(S.a,null,o.a.createElement(S.a.Heading,null,o.a.createElement(S.a.Title,{componentClass:"h3"},"Your Profile")),o.a.createElement(S.a.Body,null,o.a.createElement("form",null,o.a.createElement(ee.a,{bsSize:"large"},o.a.createElement(ne.a,{onChange:e.handleInputChange,type:"text",name:"interest",placeholder:"New Interest"})),o.a.createElement(k.a,{onClick:e.handleFormSubmit,bsStyle:"primary"},"Add Interest")))))}),me=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).logout=function(){localStorage.removeItem("jwtToken"),window.location.reload()},n.popYourEvents=function(){var e=localStorage.getItem("thisUsername"),t=localStorage.getItem("_id");p.a.get("/api/event").then(function(a){var o=[];!function(e,t){for(var n=0;n<e.length;n++)e[n].hostId===t&&o.push(e[n]),console.log("________________________________")}(a.data,t),console.log(o),n.setState({username:e,id:t,yourHostedEvents:o})}).catch(function(e){401===e.response.status&&n.props.history.push("/login")})},n.addInterestFunc=function(e){var t=localStorage.getItem("_id");console.log("this is the id:",t),p.a.post("/api/user/"+t,{params:{testParam:"test234",testParam1:222,functionToRun:4,interest:e}})},n.handleInputChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(W.a)({},a,o)),console.log(n.state)},n.handleFormSubmit=function(e){var t=localStorage.getItem("thisUsername");console.log(t);var a=localStorage.getItem("_id");console.log("this is the id:",a),n.addInterestFunc(n.state.interest)},n.state={interest:"",interests:[],interestedEvents:[],events:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("thisUsername");console.log(t);var n=localStorage.getItem("_id");console.log("this is the id:",n),p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),p.a.get("/api/user/"+n).then(function(t){console.log(t.data),console.log(t),e.setState({interests:t.data[0].interests}),console.log(e.state)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement("div",null,o.a.createElement(v,{style:{minHeight:"80%"}},o.a.createElement(ue,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}),o.a.createElement("h3",{className:"card-header",align:"center"},"\xa0",localStorage.getItem("jwtToken")&&o.a.createElement("button",{class:"btn btn-primary",onClick:this.logout},"Logout")))))}}]),t}(a.Component);s.a.render(o.a.createElement(r.a,null,o.a.createElement("div",null,o.a.createElement(c.a,{exact:!0,path:"/",component:z}),o.a.createElement(c.a,{path:"/login",component:B}),o.a.createElement(c.a,{path:"/register",component:M}),o.a.createElement(c.a,{path:"/discover",component:K}),o.a.createElement(c.a,{path:"/host",component:ie}),o.a.createElement(c.a,{path:"/myprofile",component:me}))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");q?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):F(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):F(e)}),window.addEventListener("fetch",function(e){if(e.request.url.match("^.*(/api/).*$"))return!1})}}()},79:function(e,t,n){},85:function(e,t,n){e.exports=n(220)},90:function(e,t,n){}},[[85,2,1]]]);
//# sourceMappingURL=main.7352a3b6.chunk.js.map