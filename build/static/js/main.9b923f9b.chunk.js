(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){},188:function(e,t,a){},190:function(e,t,a){},193:function(e,t,a){},199:function(e,t,a){},201:function(e,t,a){},205:function(e,t,a){},207:function(e,t,a){},209:function(e,t,a){},212:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(36),s=a.n(l),r=a(215),i=a(214),c=(a(86),a(15)),m=a(16),u=a(18),d=a(17),h=a(19),g=a(2),p=a.n(g),f=(a(107),a(109),function(e){return o.a.createElement("div",Object.assign({className:"container".concat(e.fluid?"-fluid":"")},e))}),v=function(e){return o.a.createElement("div",Object.assign({className:"row".concat(e.fluid?"-fluid":"")},e))},E=(a(111),function(e){var t=e.size.split(" ").map(function(e){return"col-"+e}).join(" ");return o.a.createElement("div",Object.assign({className:t},e))}),y=(a(113),{backgroundColor:"#688da2",color:"white",display:"flex",alignItems:"center"}),_={color:"white",fontFamily:"Droid Sans"},b=function(e){return o.a.createElement("nav",{style:y,className:"navbar navbar-expand-lg"},o.a.createElement("div",{style:_,className:"collapse navbar-collapse",id:"navbarNav"},o.a.createElement("ul",{style:_,className:"navbar-nav"},o.a.createElement("li",{style:_,className:"nav-item"},o.a.createElement("img",{src:"https://i.imgur.com/URfLD6e.png",className:"logo",width:"100",height:"50",alt:""})),o.a.createElement("li",{style:_,className:"nav-item"},o.a.createElement("a",{style:_,className:"nav-link",href:"/"},"Home ")),o.a.createElement("li",{style:_,class:"nav-item"},o.a.createElement("a",{style:_,className:"nav-link",href:"/discover"},"Discover")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{style:_,className:"nav-link",href:"/host"},"Host")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{style:_,className:"nav-link",href:"/myprofile"},"My Profile")))))},I=(a(115),a(7)),S=a.n(I),k=a(13),w=a.n(k),C=a(11),N=a.n(C),j={fontFamily:"Droid Sans"},L=function(e){return o.a.createElement("div",{className:"cunt"},e.attendees.map(function(e){return o.a.createElement(N.a,null,o.a.createElement(N.a.Left,null,o.a.createElement("img",{width:64,height:64,src:e.avImgLink,alt:"thumbnail"})),o.a.createElement(N.a.Body,null,o.a.createElement(N.a.Heading,{style:j},e.name)))}))},T={backgroundColor:"#9fa8af",borderRadius:"4px"},A={fontFamily:"Paytone One"},O={fontFamily:"Droid Sans"},x={fontFamily:"Droid Sans",textAlign:"center"},P=function(e){return o.a.createElement("div",{className:"cunt"},e.events.map(function(t){return o.a.createElement(S.a,{id:"collapsible-panel-example-2",defaultCollapsed:!0},o.a.createElement(S.a.Heading,{style:T},o.a.createElement(S.a.Title,{style:x,toggle:!0},t.name,"  |  ",t.locationAprox)),o.a.createElement(S.a.Collapse,null,o.a.createElement(S.a.Body,null,o.a.createElement(v,null,o.a.createElement(E,{size:"sm-6"},o.a.createElement("h2",{style:A},t.name),o.a.createElement("h3",{style:O},"Event Type: ",t.type),o.a.createElement("h4",{style:O},"Time: ",t.time," "),o.a.createElement("h4",{style:O},"Location: ",t.locationAprox," "),o.a.createElement("p",{style:O},t.Description),o.a.createElement(w.a,{onClick:function(){return e.requestToAttend(t,t._id,t.hostId)},bsClass:"yellow"},"Attened")),o.a.createElement(E,{id:"rsvpContainer",size:"sm-6"},o.a.createElement("h2",null," "),o.a.createElement("h3",null,"Attendees"),o.a.createElement(L,{attendees:t.attendees,eventId:t._id}," "))))))}))},H=(a(188),{fontFamily:"Paytone One"}),D={fontFamily:"Droid Sans"},F={fontFamily:"Droid Sans",textAlign:"center"},z=function(e){return o.a.createElement("div",{className:"cunt"},e.events.map(function(t){return o.a.createElement(S.a,{id:"collapsible-panel-example-2",defaultCollapsed:!0},o.a.createElement(S.a.Heading,null,o.a.createElement(S.a.Title,{style:F,toggle:!0},t.name,"  |  ",t.locationAprox)),o.a.createElement(S.a.Collapse,null,o.a.createElement(S.a.Body,null,o.a.createElement(v,null,o.a.createElement(E,{size:"sm-6"},o.a.createElement("h2",{style:H},t.name),o.a.createElement("h3",{style:D},"Event Type: ",t.type),o.a.createElement("h4",{style:D},"Time: ",t.time," "),o.a.createElement("h4",{style:D},"Location: ",t.actualLocation," "),o.a.createElement("p",{style:D},t.Description),o.a.createElement(w.a,{onClick:function(){return e.bail(e.yourName,e.id,t.attendees,t.hostId,t._id)},bsClass:"yellow"},"Bail")),o.a.createElement(E,{id:"rsvpContainer",size:"sm-6"},o.a.createElement("h2",null," "),o.a.createElement("h3",{style:D},"Attendees"),o.a.createElement(L,{attendees:t.attendees,eventId:t._id}," "))))))}))},R=(a(190),a(28)),U=a.n(R),q={backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("https://preview.ibb.co/nN5LTL/audience-blur-bokeh-976866.jpg")',backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"relative",backgroundSize:"cover",height:"50%",minHeight:"450px"},Y={textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white"},B={fontFamily:"Paytone One"},W={fontFamily:"Droid Sans"},M=function(e){return o.a.createElement("div",null,o.a.createElement(U.a,{style:q},o.a.createElement("div",{style:Y},o.a.createElement("h1",{style:B},"let's make plans"),o.a.createElement("p",{style:W},"...just try not to bail"))))},$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).popYourEvents=function(){var e=localStorage.getItem("_id");p.a.get("/api/event").then(function(t){var n=[];function o(e,t,a){for(var o=0;o<e.attendees.length;o++)e.attendees[o]._id===t&&n.push(e)}!function(t){for(var a=0;a<t.length;a++)o(t[a],e)}(t.data),console.log(n),a.setState({yourEvents:n,events:t.data}),console.log(a.state.yourEvents),console.log("here2")}).catch(function(e){401===e.response.status&&a.props.history.push("/login")})},a.bail=function(e,t,n,o,l){var s=localStorage.getItem("_id");console.log("this is the id:",s),console.log("this is the name:",e),console.log(n[0]),console.log(n[0].name),console.log(l);var r=l;p.a.get("/api/user/"+o).then(function(o){console.log(o.data),console.log(o);var l=o.data[0].yourHostedEvents;console.log(l[0]);var s=n.map(function(e){return e._id}).indexOf(t);~s&&n.splice(s,1),console.log(n),p.a.post("/api/event/"+r,{params:{_id:t,name:e,attendees:n,functionToRun:1}}).then(function(e){console.log(e.data),console.log(e),a.popYourEvents()}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},a.requestToAttend=function(e,t,n){var o=localStorage.getItem("thisUsername"),l=localStorage.getItem("_id");console.log("this is the id:",l),console.log("this is the host id:",n);var s={username:o,_id:l,name:a.state.name,avImgLink:a.state.avImgLink};p.a.all([p.a.post("/api/user/"+l,{params:{yourNewEvent:e,functionToRun:3}}),p.a.post("/api/event/"+t,{params:{attendees:s,functionToRun:2}})]).then(p.a.spread(function(e,t){console.log(e),console.log(t),t.data.attendees.push(s),console.log(t),p.a.get("/api/user/"+n).then(function(e){console.log(e.data[0].yourHostedEvents);for(var n=e.data[0].yourHostedEvents,o=0;o<n.length;o++)n[o]._id===t.data._id&&(n[o].attendees.push(s),console.log(n),p.a.post("/api/user/"+l,{params:{yourHostedEvents1:n,functionToRun:1}}).then(function(e){console.log(e.data),console.log(e),a.popYourEvents()}).catch(function(e){console.log(e)}));console.log(e)}).catch(function(e){console.log(e)})}))},a.logout=function(){localStorage.removeItem("jwtToken"),window.location.reload()},a.state={test:"",books:"",events:[],username:"",name:"",id:"",acceptedIncomingInvites:[],declinedIncoimingInvites:[],pendingIncomingInvites:[],yourEvents:[],avImgLink:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"test1",value:function(){console.log("func running");p.a.post("/api/event/5bcf70ef12fc0ba9a4bf05e6",{params:{testParam:"test234",testParam1:222}})}},{key:"updateState",value:function(){this.setState({books:"hello1"}),console.log(this.state.books)}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("thisUsername");console.log(t);var a=localStorage.getItem("_id");console.log("this is the id:",a),p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),p.a.get("/api/user/"+a).then(function(t){console.log(t.data),console.log(t.data[0].username);var n=t.data[0].yourEvents,o=t.data[0].name,l=t.data[0].avImgLink;console.log(a,n),e.setState({id:a,yourEvents:n,name:o,avImgLink:l}),console.log(e.state.yourEvents,e.state.name),console.log(t)}).catch(function(e){console.log(e)}),p.a.get("/api/event").then(function(n){var o=[];function l(e,t,a){for(var n=0;n<e.attendees.length;n++)e.attendees[n]._id===t&&o.push(e)}!function(e){for(var t=0;t<e.length;t++)l(e[t],a),console.log("________________________________")}(n.data),console.log(o),e.setState({events:n.data,username:t,yourEvents:o}),console.log(e.state.events),console.log(e.state.username),console.log(e.state.yourEvents),console.log("here2")}).catch(function(t){401===t.response.status&&e.props.history.push("/login")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement(M,null),o.a.createElement(f,null,o.a.createElement(v,null,o.a.createElement(E,{size:"lg-6",style:{marginTop:30}},o.a.createElement("h3",{className:"card-header",align:"center"},"All Events"),o.a.createElement(P,{requestToAttend:this.requestToAttend,events:this.state.events})),o.a.createElement(E,{size:"lg-6",style:{marginTop:30}},o.a.createElement("h3",{className:"card-header",align:"center"},"Your Events"),o.a.createElement(z,{id:this.state.id,bail:this.bail,yourName:this.state.name,events:this.state.yourEvents}))),o.a.createElement("h3",{className:"card-header",align:"center"},"\xa0",localStorage.getItem("jwtToken")&&o.a.createElement("button",{class:"btn btn-primary yellow",onClick:this.logout},"Logout"))))}}]),t}(n.Component),J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}window.addEventListener("fetch",function(e){if(e.request.url.match("^.*(/api/).*$"))return!1});var G=a(213),K=(a(76),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=e.state;a[t.target.name]=t.target.value,e.setState(a)},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,o=a.password;localStorage.setItem("thisUsername",n),console.log(localStorage.getItem("thisUsername")),p.a.post("/api/auth/login",{username:n,password:o}).then(function(t){console.log(t),localStorage.setItem("jwtToken",t.data.token),localStorage.setItem("_id",t.data.id1),e.setState({message:""}),e.props.history.push("/")}).catch(function(t){401===t.response.status&&e.setState({message:"Login failed. Username or password not match"})})},e.state={username:"",password:"",message:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.message;return o.a.createElement("div",{className:"container"},o.a.createElement("form",{className:"form-signin",onSubmit:this.onSubmit},""!==n&&o.a.createElement("div",{className:"alert alert-warning alert-dismissible",role:"alert"},n),o.a.createElement("h2",{className:"form-signin-heading"},"Please sign in"),o.a.createElement("label",{for:"inputEmail",className:"sr-only"},"Email address"),o.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email address",name:"username",value:t,onChange:this.onChange,required:!0}),o.a.createElement("label",{for:"inputPassword",className:"sr-only"},"Password"),o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",value:a,onChange:this.onChange,required:!0}),o.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit"},"Login"),o.a.createElement("p",null,"Not a member? ",o.a.createElement(G.a,{to:"/register"},o.a.createElement("span",{className:"glyphicon glyphicon-plus-sign","aria-hidden":"true"})," Register here"))))}}]),t}(n.Component)),V=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=e.state;a[t.target.name]=t.target.value,e.setState(a),console.log(a)},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,o=a.password,l=a.name,s=a.avImgLink;p.a.post("/api/auth/register",{username:n,password:o,name:l,avImgLink:s}).then(function(t){e.props.history.push("/login")})},e.state={username:"",password:"",name:"",avImgLink:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.name,l=e.avImgLink;return o.a.createElement("div",{class:"container"},o.a.createElement("form",{class:"form-signin",onSubmit:this.onSubmit},o.a.createElement("h2",{class:"form-signin-heading"},"Register"),o.a.createElement("label",{for:"inputEmail",class:"sr-only"},"Email address"),o.a.createElement("input",{type:"email",class:"form-control",placeholder:"Email address",name:"username",value:t,onChange:this.onChange,required:!0}),o.a.createElement("label",{for:"inputPassword",class:"sr-only"},"Password"),o.a.createElement("input",{type:"password",class:"form-control",placeholder:"Password",name:"password",value:a,onChange:this.onChange,required:!0}),o.a.createElement("label",{for:"inputName",class:"sr-only"},"Name"),o.a.createElement("input",{type:"name",class:"form-control",placeholder:"Name",name:"name",value:n,onChange:this.onChange,required:!0}),o.a.createElement("label",{for:"inputPhoto",class:"sr-only"},"Insert link to photo"),o.a.createElement("input",{type:"avImgLink",class:"form-control",placeholder:"Link to an image for your av",name:"avImgLink",value:l,onChange:this.onChange,required:!0}),o.a.createElement("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"Register")))}}]),t}(n.Component),X=a(29),Z=a(38),ee=a.n(Z),te=(a(193),{backgroundImage:"linear-gradient(white, black)"}),ae={fontFamily:"Paytone One",fontSize:"100px",textTransform:"lowercase"},ne={fontFamily:"Droid Sans"},oe=function(e){return o.a.createElement("div",{className:"cunt"},o.a.createElement(ee.a,null,e.events.map(function(t){return o.a.createElement(ee.a.Item,{id:"heroImg"},o.a.createElement("img",{style:te,id:"topImg",width:900,height:500,alt:"900x500",src:t.eventPhoto}),o.a.createElement(ee.a.Caption,null,o.a.createElement("h1",{style:ae},t.name),o.a.createElement("h3",{style:ne},"Event Type: ",t.type),o.a.createElement("h4",{style:ne},"Time: ",t.time," "),o.a.createElement("h4",{style:ne},"Location: ",t.locationAprox," "),o.a.createElement("p",{style:ne},t.description," "),o.a.createElement(w.a,{onClick:function(){return e.requestToAttend(t,t._id,t.hostId)}},"Attend")))})))},le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={interest:"",interests:[],interestedEvents:[],events:[],show:!1,name:""},a.requestToAttend=function(e,t,n){var o=localStorage.getItem("thisUsername"),l=localStorage.getItem("_id");console.log("this is the id:",l),console.log("this is the host id:",n);var s={username:o,_id:l,name:a.state.name,avImgLink:a.state.avImgLink};p.a.all([p.a.post("/api/user/"+l,{params:{yourNewEvent:e,functionToRun:3}}),p.a.post("/api/event/"+t,{params:{attendees:s,functionToRun:2}})]).then(p.a.spread(function(e,t){console.log(e),console.log(t),t.data.attendees.push(s),console.log(t),p.a.get("/api/user/"+n).then(function(e){console.log(e.data[0].yourHostedEvents);for(var n=e.data[0].yourHostedEvents,o=0;o<n.length;o++)n[o]._id===t.data._id&&(n[o].attendees.push(s),console.log(n),p.a.post("/api/user/"+l,{params:{yourHostedEvents1:n,functionToRun:1}}).then(function(e){console.log(e.data),console.log(e),a.popYourEvents()}).catch(function(e){console.log(e)}));console.log(e)}).catch(function(e){console.log(e)})}))},a.handleClose=function(){a.setState({show:!1})},a.handleShow=function(){console.log("function is here"),a.setState({show:!0})},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(X.a)({},n,o))},a.handleFormSubmit=function(e){e.preventDefault()},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken");var t=localStorage.getItem("thisUsername");console.log("this is the username: "+t);var a=localStorage.getItem("_id");console.log("this is the id:",a),p.a.get("/api/user/"+a).then(function(t){console.log("user data: "+t.data),e.setState({interests:t.data[0].interests,avImgLink:t.data[0].avImgLink,name:t.data[0].name})}).catch(function(e){console.log(e)}),p.a.get("/api/event").then(function(a){var n=[];function o(e,t,a){for(var o=0,l=0;l<t.interests.length;l++)t.interests[l]===e?0:o++;o===t.interests.length||function(e,t){if(void 0===e|0===e.length)e.push(t);else for(var a=0,n=0;n<e.length;n++)e[n].name===t.name||a++,a===e.length&&e.push(t)}(n,t)}function l(e,t){for(var a=0;a<e.length;a++)o(t,e[a])}!function(e,t){for(var a=0;a<e.length;a++)l(t,e[a])}(e.state.interests,a.data),console.log(n),console.log(a.data),e.setState({events:a.data,username:t,interestedEvents:n}),console.log(e.state.interestedEvents)}).catch(function(t){401===t.response.status&&e.props.history.push("/login")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement("div",null,o.a.createElement(oe,{requestToAttend:this.requestToAttend,events:this.state.interestedEvents})))}}]),t}(n.Component),se=(a(199),function(e){return o.a.createElement("div",{className:"cunt"},e.attendees.map(function(t){return o.a.createElement(N.a,null,o.a.createElement(N.a.Left,null,o.a.createElement("img",{width:64,height:64,src:t.avImgLink,alt:"thumbnail"})),o.a.createElement(N.a.Body,null,o.a.createElement(N.a.Heading,null,t.name),o.a.createElement(w.a,{onClick:function(){return e.deleteAttendee(t.name,t._id,e.attendees,e.yourHE,e.id)},bsStyle:"danger"},"Delete Attendee")))}))}),re={fontFamily:"Paytone One"},ie={fontFamily:"Droid Sans"},ce={fontFamily:"Droid Sans",textAlign:"center"},me=function(e){return o.a.createElement("div",{className:"cunt"},e.yourHE.map(function(t){return o.a.createElement(S.a,{id:"collapsible-panel-example-2",defaultCollapsed:!0},o.a.createElement(S.a.Heading,null,o.a.createElement(S.a.Title,{style:ce,toggle:!0},t.name,"  |  ",t.locationAprox)),o.a.createElement(S.a.Collapse,null,o.a.createElement(S.a.Body,null,o.a.createElement(v,null,o.a.createElement(E,{size:"sm-6"},o.a.createElement("h2",{style:re},t.name),o.a.createElement("h3",{style:ie},"Event Type: ",t.type),o.a.createElement("h4",{style:ie},"Time: ",t.time," "),o.a.createElement("h4",{style:ie},"Location: ",t.actualLocation," "),o.a.createElement("p",{style:ie}," ",t.Description),o.a.createElement(w.a,{onClick:function(){return e.deleteEvent(t._id)},bsStyle:"danger",bsClass:"yellow"},"Delete Event")),o.a.createElement(E,{id:"rsvpContainer",size:"sm-6"},"               ",o.a.createElement("h2",null," "),o.a.createElement("h3",null,"Attendees"),o.a.createElement(se,{yourHE:e.yourHE,deleteAttendee:e.deleteAttendee,attendees:t.attendees,id:t._id}," ")," ")))))}))},ue=(a(201),a(20)),de=a.n(ue),he=a(21),ge=a.n(he),pe=function(e){return o.a.createElement("div",null,o.a.createElement(S.a,null,o.a.createElement(S.a.Body,null,o.a.createElement("form",null,o.a.createElement(de.a,{bsSize:"large"},o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"name",placeholder:"Name of Event"})),o.a.createElement(de.a,{bsSize:"large"},o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"time",placeholder:"Time"})),o.a.createElement(de.a,null,o.a.createElement(ge.a,{bsSize:"large",onChange:e.handleInputChange,type:"text",name:"date",placeholder:"Date"})),o.a.createElement(de.a,null,o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"type",placeholder:"Type of Event"})),o.a.createElement(de.a,null,o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"actualLocation",placeholder:"Exact Address"})),o.a.createElement(de.a,null,o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"locationAprox",placeholder:"Approx Location"})),o.a.createElement(de.a,null,o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"interests",placeholder:"Interests"})),o.a.createElement(de.a,null,o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"description",placeholder:"Description"})),o.a.createElement(de.a,null,o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"eventPhoto",placeholder:"Insert Link to Event Photo"})),o.a.createElement(w.a,{onClick:e.handleFormSubmit,bsStyle:"primary"},"Create")))))},fe=(a(205),{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("https://preview.ibb.co/dkmS8L/alcohol-alcoholic-bar-16408.jpg")',backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"relative",backgroundSize:"cover",height:"50%",minHeight:"450px"}),ve={textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white"},Ee={fontFamily:"Paytone One"},ye={fontFamily:"Droid Sans"},_e=function(e){return o.a.createElement("div",null,o.a.createElement(U.a,{style:fe},o.a.createElement("div",{style:ve},o.a.createElement("h1",{style:Ee},"host with the most"),o.a.createElement("p",{style:ye},"If you host it, they might come..."))))},be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).popYourEvents=function(){var e=localStorage.getItem("thisUsername"),t=localStorage.getItem("_id");p.a.get("/api/event").then(function(n){var o=[];!function(e,t){for(var a=0;a<e.length;a++)e[a].hostId===t&&o.push(e[a]),console.log("________________________________")}(n.data,t),console.log(o),a.setState({username:e,id:t,yourHostedEvents:o})}).catch(function(e){401===e.response.status&&a.props.history.push("/login")})},a.deleteEvent=function(e){p.a.delete("/api/event/"+e).then(function(e){a.popYourEvents(),console.log(e)}).catch(function(e){401===e.response.status&&console.log(e)})},a.deleteAttendee=function(e,t,a,n,o){var l=localStorage.getItem("_id");console.log("this is the id:",l),console.log("func running"+e+t+"attendees"+a+n),console.log(a[0]),console.log(a[0].name),console.log(n[0]),console.log(o);var s=o,r=a.map(function(e){return e._id}).indexOf(t);~r&&a.splice(r,1),console.log(a);for(var i=0;i<n.length;i++)n[i]._id===s&&(n[i].attendees=a,console.log(n[i]));p.a.all([p.a.post("/api/event/"+s,{params:{_id:t,name:e,attendees:a,functionToRun:1}}),p.a.post("/api/user/"+l,{params:{yourHostedEvents1:n,functionToRun:1}})]).then(p.a.spread(function(e,t){console.log(e),console.log(t),this.popYourEvents()}))},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(X.a)({},n,o))},a.handleFormSubmit=function(e){var t=localStorage.getItem("thisUsername");console.log(t);var n=localStorage.getItem("_id");console.log("this is the id:",n),e.preventDefault();var o={name:a.state.name,date:a.state.date,time:a.state.time,attendees:a.state.attendees,type:a.state.type,locationAprox:a.state.locationAprox,actualLocation:a.state.actualLocation,hostId:n,interests:a.state.interests,Description:a.state.description,eventPhoto:a.state.eventPhoto};console.log(o),p.a.post("/api/event/",{params:{testParam:"test234",testParam1:222,testParam2:o}}).then(function(e){console.log(e.data);var t=[];!function(e,a){for(var n=0;n<a.length;n++)a[n].hostId===e&&t.push(a[n])}(n,e.data),a.submitEventToUser(t),a.popYourEvents()}).catch(function(e){console.log(e)})},a.submitEventToUser=function(e){var t=localStorage.getItem("thisUsername");console.log(t);var a=localStorage.getItem("_id");console.log("this is the id:",a),console.log(e),p.a.post("/api/user/"+a,{params:{yourHostedEvents1:e,functionToRun:2}})},a.state={yourHostedEvents:[],username:"",id:"",test:"",name:"",date:"",time:"",attendees:[],type:"",locationAprox:"",actualLocation:"",description:"",interests:"",eventPhoto:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"test1",value:function(e,t,a){console.log("func running"+e+t+"attendees"+a);p.a.post("/api/event/5bcf70ef12fc0ba9a4bf05e6",{params:{_id:t,name:e}})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("thisUsername");console.log(t);var a=localStorage.getItem("_id");console.log("this is the id:",a),p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),p.a.get("/api/event").then(function(n){var o=[];!function(e,t){for(var a=0;a<e.length;a++)e[a].hostId===t&&o.push(e[a]),console.log("________________________________")}(n.data,a),console.log(o),e.setState({username:t,id:a,yourHostedEvents:o})}).catch(function(t){401===t.response.status&&e.props.history.push("/login")})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement("div",null,o.a.createElement(_e,null),o.a.createElement(f,{style:{minHeight:"80%"}},o.a.createElement("h3",{className:"card-header",align:"center"},"Your Hosted Events"),o.a.createElement(me,{deleteAttendee:this.deleteAttendee,deleteEvent:this.deleteEvent,yourHE:this.state.yourHostedEvents})),o.a.createElement(f,{style:{minHeight:"80%"}},o.a.createElement("h3",{className:"card-header",align:"center"},"Host New Event"),o.a.createElement(pe,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}))))}}]),t}(n.Component),Ie=(a(207),function(e){return o.a.createElement("div",null,o.a.createElement(S.a,null,o.a.createElement(S.a.Body,null,o.a.createElement("form",null,o.a.createElement(de.a,{bsSize:"large"},o.a.createElement(ge.a,{onChange:e.handleInputChange,type:"text",name:"interest",placeholder:"New Interest"})),o.a.createElement(w.a,{onClick:e.handleFormSubmit,bsStyle:"primary"},"Add Interest")))))}),Se=function(e){return o.a.createElement("div",{className:"cunt"},o.a.createElement(N.a,null,o.a.createElement(N.a.Left,null,o.a.createElement("img",{width:300,height:300,src:e.avImgLink,alt:"thumbnail"})),o.a.createElement(N.a.Body,null,o.a.createElement("h1",null,e.name),o.a.createElement("h2",null,"Interests:"),e.interests.map(function(e){return o.a.createElement("h4",null,e)}))))},ke=(a(209),{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("https://preview.ibb.co/neP7hf/adults-backlit-bonding-1049317.jpg")',backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"relative",backgroundSize:"cover",height:"50%",minHeight:"450px"}),we={textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white"},Ce={fontFamily:"Paytone One"},Ne={fontFamily:"Droid Sans"},je=function(e){return o.a.createElement("div",null,o.a.createElement(U.a,{style:ke},o.a.createElement("div",{style:we},o.a.createElement("h1",{style:Ce},"your profile"),o.a.createElement("p",{style:Ne},"Add interests to discover events"))))},Le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).logout=function(){localStorage.removeItem("jwtToken"),window.location.reload()},a.updateInterests=function(){var e=localStorage.getItem("_id");p.a.get("/api/user/"+e).then(function(e){console.log(e.data),console.log(e),a.setState({interests:e.data[0].interests,name:e.data[0].name,photo:e.data[0].avImgLink}),console.log(a.state)}).catch(function(e){console.log(e)})},a.popYourEvents=function(){var e=localStorage.getItem("thisUsername"),t=localStorage.getItem("_id");p.a.get("/api/event").then(function(n){var o=[];!function(e,t){for(var a=0;a<e.length;a++)e[a].hostId===t&&o.push(e[a]),console.log("________________________________")}(n.data,t),console.log(o),a.setState({username:e,id:t,yourHostedEvents:o})}).catch(function(e){401===e.response.status&&a.props.history.push("/login")})},a.addInterestFunc=function(e){var t=localStorage.getItem("_id");console.log("this is the id:",t),p.a.post("/api/user/"+t,{params:{testParam:"test234",testParam1:222,functionToRun:4,interest:e}}).then(function(e){a.updateInterests()}).catch(function(e){console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(X.a)({},n,o)),console.log(a.state)},a.handleFormSubmit=function(e){var t=localStorage.getItem("thisUsername");console.log(t);var n=localStorage.getItem("_id");console.log("this is the id:",n),a.addInterestFunc(a.state.interest)},a.state={interest:"",interests:[],interestedEvents:[],events:[],name:"",photo:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("thisUsername");console.log(t);var a=localStorage.getItem("_id");console.log("this is the id:",a),p.a.defaults.headers.common.Authorization=localStorage.getItem("jwtToken"),p.a.get("/api/user/"+a).then(function(t){console.log(t.data),console.log(t),e.setState({interests:t.data[0].interests,name:t.data[0].name,photo:t.data[0].avImgLink}),console.log(e.state)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,null),o.a.createElement("div",null,o.a.createElement(je,null),o.a.createElement(f,{style:{minHeight:"80%"}},o.a.createElement("h3",{className:"card-header",align:"center"},"Your Profile"),o.a.createElement(Se,{name:this.state.name,avImgLink:this.state.photo,interests:this.state.interests}),o.a.createElement(Ie,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}),o.a.createElement("h3",{className:"card-header",align:"center"},"\xa0",localStorage.getItem("jwtToken")&&o.a.createElement("button",{class:"btn btn-primary",onClick:this.logout},"Logout")))))}}]),t}(n.Component);s.a.render(o.a.createElement(r.a,null,o.a.createElement("div",null,o.a.createElement(i.a,{exact:!0,path:"/",component:$}),o.a.createElement(i.a,{path:"/login",component:K}),o.a.createElement(i.a,{path:"/register",component:V}),o.a.createElement(i.a,{path:"/discover",component:le}),o.a.createElement(i.a,{path:"/host",component:be}),o.a.createElement(i.a,{path:"/myprofile",component:Le}))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");J?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Q(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Q(e)}),window.addEventListener("fetch",function(e){if(e.request.url.match("^.*(/api/).*$"))return!1})}}()},76:function(e,t,a){},81:function(e,t,a){e.exports=a(212)},86:function(e,t,a){}},[[81,2,1]]]);
//# sourceMappingURL=main.9b923f9b.chunk.js.map